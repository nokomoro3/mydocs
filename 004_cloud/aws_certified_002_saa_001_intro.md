# 導入

## 最初のハンズオン

- アカウントの作成、マネジメントコンソールログインまで。
- EC2やS3を使うっぽい。
- EC2立ち上げ
  - AMI(Amazon Machine Image)の選択。無料のAmazon Linux 2を選択。
  - マシンスペックに応じてインスタンスタイプが様々。
  - ワークロードに応じて選択する。
  - VPCはないとAWSを使えないのだが、デフォルトのものがあるのでそれを使える。
  - ここではほぼデフォルトで作成する。
  - タグはユーザーの利便性に使われ、ここではName: Udemyで作成する。
  - セキュリティグループの設定は、ファイアウォールのルールセットである。
    - SSH, HTTP, HTTPSなどのプロトコル、ポート番号
    - ソース(アクセス元)の設定
      - 0.0.0.0/0, ::/0ならIPv4, IPv6全ソース許可。
  - アクセス用のキーペアも作成が必要。
    - キーペアはインスタンス専用ではなく、使いまわしも可能。
- SSHアクセス
  - ec2-user@{public ip address}でアクセス可能。
  - 認証方式は秘密鍵。
  - 鍵のアクセス権が400以下の場合は変更が必要かもしれない。(Linuxの場合など)
  ```
  ssh -i {pem file} ec2-user@{pulib ip address}
  ```
  - EC2 instance connectを使えば、ブラウザからコンソールでログインも可能。
    - この場合、キーペアなども不要となる。
- EC2削除
  - 最後にEC2を削除する。

## SAA資格概要

- 資格体系
  - 受ける順番は、CLF > SAA > SOA, DVA > SAP, DOPの順番が良い。

- SAA概要
  - 求められる能力
    - 顧客要件に基づいたアーキテクチャ設計原則を使ったソリューションを定義する。
    - プロジェクトのライフサイクル全体を通じて、ベストプラクティスに基づいた実装ガイダンスを組織に提供する。
  - 質問パターン
    - AWSサービスや特徴・機能の選択(CLFと重複)
    - AWSサービスの適切な設定方法の選択
    - AWSサービスを組み合わせた最適なアーキテクチャ構成の選択

## その他

- AWSの操作
  - AWSマネジメントコンソール、リソースに応じたサービス(SSHなど)、AWS CLIの３つある。
  - AWS CLIでしかできない操作があることに注意する。

- バージニア北部でしかできない操作がある。(us-east-1)
  - クォータの増加など。

- AWSのアカウントにもランクがある。
  - Basic, Developer, Business, Enterpriseなど。

- AWS CloudTrail
  - アクティビティログを取得できる。
  - S3に保存される。
  - 無料だがS3使用料金はかかる。
  - CloudWatchとの連携も可能だが、料金がかかる。
  - 管理イベントのみは無償だが、データイベント、Insightsイベントは有償。
  - ちなみに証跡を保存する設定をしなくても、90日間は閲覧することができる。
  - ログは、Athenaでも解析することができる。
  - データレイクの機能もあるようだ。
  - ログ記録の停止をすれば、これ以上の課金はされなくなる。

- CloudWatch
  - CPU使用率などのメトリクスを使用して監視することができる。
  - リソースを何か立ち上げると、メトリクスの収集は行われている。
  - メトリクスをダッシュボードに設定する必要がある。
  - 請求アラームは、リージョンによっては設定できないため、us-east-1に移動する。

- KMS: Key Management Service

- CIDRについて
  - https://wa3.i-3-i.info/word11989.html

- AZとリージョンの違い
  - https://aws.amazon.com/jp/about-aws/global-infrastructure/regions_az/
